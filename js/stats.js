
Ext.chart.Chart.CHART_URL='extjs/resources/charts.swf';Ext.onReady(function(){var store=new Ext.data.Store({autoLoad:true,proxy:new Ext.data.HttpProxy({url:'getstats.php',method:'POST'}),reader:new Ext.data.JsonReader({root:'data'},[{name:'stats_id'},{name:'stats_date',type:'date',dateFormat:'Y-m-d'},{name:'total_companies',type:'int'},{name:'total_users',type:'int'},{name:'total_projects',type:'int'},{name:'total_regularpay',type:'float'},{name:'total_otbpay',type:'float'}])});var company=new Ext.Panel({height:250,containerScroll:true,layout:'fit',items:[{xtype:'panel',items:[{xtype:'linechart',store:store,xField:'stats_date',xAxis:new Ext.chart.TimeAxis({labelRenderer:Ext.util.Format.dateRenderer('Y-m-d'),majorTimeUnit:'day'}),extraStyle:{legend:{display:'right'},yAxis:{majorGridLines:{color:0xdddddd}}},series:[{type:'line',displayName:'Companies',yField:'total_companies',style:{color:0x88ff88,size:5,lineSize:2}},{type:'line',displayName:'Projects',yField:'total_projects',style:{color:0xff8888,size:5,lineSize:2}},{type:'line',displayName:'Employees',yField:'total_users',style:{color:0x555555,size:6,lineSize:2}}],}]}]});var payroll=new Ext.Panel({height:250,layout:'fit',items:{xtype:'linechart',store:store,xField:'stats_date',xAxis:new Ext.chart.TimeAxis({labelRenderer:Ext.util.Format.dateRenderer('m/d/y'),majorTimeUnit:'day'}),extraStyle:{legend:{display:'right'},yAxis:{majorGridLines:{color:0xdddddd}}},series:[{displayName:'Total Regular Pay',yField:'total_regularpay',style:{color:0x88ff88,size:1,lineSize:1}},{displayName:'Total OTB Pay',yField:'total_otbpay',style:{color:0x555555,size:6,lineSize:1}}],}});var viewport=new Ext.Viewport({layout:'border',items:[{xtype:'portal',region:'center',margins:'35 5 5 0',items:[{columnWidth:.45,style:'padding:10px 0 10px 10px',items:[{title:'Company',items:[company]}]},{columnWidth:.45,style:'padding:10px 0 10px 10px',items:[{title:'Payroll',items:[payroll]}]}]}]});});